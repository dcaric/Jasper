<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jasper - AI Email Assistant</title>
    <link rel="stylesheet" href="/static/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <div class="app-container">
        <header class="app-header">
            <div class="user-info">
                <div class="avatar">
                    <img src="/static/jasper.png" alt="Jasper">
                </div>
                <div class="status-info">
                    <h1>Jasper</h1>
                    <div class="status-container">
                        <p class="status">Based on: FunctionGemma:300M, Gemma3:4B & Gemini3</p>
                        <div id="index-meta" class="index-meta" style="display: none;">
                            <span id="index-pct">0%</span> Indexed
                            <div class="progress-mini">
                                <div id="index-bar" class="progress-bar-fill"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button id="restart-btn" title="Restart Jasper Service">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path
                        d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z">
                    </path>
                </svg>
            </button>
        </header>

        <div id="chat-window" class="chat-window">
            <div class="message system">
                <div class="bubble">
                    Welcome! I'm Jasper, your AI assistant. I can help you search your Gmail. Try asking something like:
                    "find mail from dario" or
                    "search for subject news".
                </div>
            </div>
        </div>

        <footer class="input-area">
            <form id="chat-form">
                <input type="text" id="user-input" placeholder="Type a message..." autocomplete="off">
                <button type="submit" id="send-btn">
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                        <path d="M1.101 21.757L23.8 12.028 1.101 2.3l.011 7.912 13.623 1.816-13.623 1.817-.011 7.912z">
                        </path>
                    </svg>
                </button>
            </form>
        </footer>
    </div>
    <div id="restart-overlay" class="restart-overlay">
        <div class="overlay-content">
            <div class="spinner"></div>
            <p>Restarting Jasper...</p>
            <p class="subtext">Applying fixes and clearing memory...</p>
        </div>
    </div>
    <script src="/static/script.js?v=3"></script>
</body>

</html>